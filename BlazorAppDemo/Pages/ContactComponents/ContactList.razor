@inject IJSRuntime jsRuntime

<input type="checkbox" @bind="DisplayEmail" /><label>Display Email</label>

@if (Contacts is null)
{
    @NullContacts;
}
else if(Contacts.Count == 0)
{
    @EmptyContacts;

    
}
else
{
    @foreach (var contact in Contacts)
    {
        <ContactComponent1 CurrentContact="contact" displayEmail="@DisplayEmail" DeleteCurrentContact="DeleteContact">

        </ContactComponent1>
    }
}



@code {
    [Parameter]
    public RenderFragment NullContacts { get; set; }

    [Parameter]
    public RenderFragment EmptyContacts { get; set; }


    [Parameter]
    public List<Contact> Contacts { get; set; }

    private bool DisplayEmail = false;

    private async Task DeleteContact(Contact contact)
    {
        var confirm = await jsRuntime.InvokeAsync<bool>("confirm", $"Would you love to proceed with the Deleting of {contact.FirstName} {contact.LastName} from contacts list?");
        
        if (confirm)
        {
            Contacts.Remove(contact);
        }
      
    }
}
